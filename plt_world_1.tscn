[gd_scene load_steps=23 format=3 uid="uid://bc42paav01cie"]

[ext_resource type="Script" path="res://plt_world1.gd" id="1_wx00e"]
[ext_resource type="Script" path="res://plt_player.gd" id="2_3tf71"]
[ext_resource type="Texture2D" uid="uid://b8q8sgiit60dd" path="res://icon.svg" id="2_t8400"]
[ext_resource type="Texture2D" uid="uid://dw2x6y5tyxrf1" path="res://assets/sprites/characters.png" id="4_f2sv3"]
[ext_resource type="Script" path="res://plt_enemy.gd" id="4_ylcuw"]

[sub_resource type="SegmentShape2D" id="SegmentShape2D_bunl0"]
a = Vector2(84, 16)
b = Vector2(-63, 16)

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_wttnq"]

[sub_resource type="AtlasTexture" id="AtlasTexture_xb8ov"]
atlas = ExtResource("4_f2sv3")
region = Rect2(64, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_0c170"]
atlas = ExtResource("4_f2sv3")
region = Rect2(192, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_s6jso"]
atlas = ExtResource("4_f2sv3")
region = Rect2(128, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_7c3rd"]
atlas = ExtResource("4_f2sv3")
region = Rect2(160, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3itdf"]
atlas = ExtResource("4_f2sv3")
region = Rect2(224, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_stbou"]
atlas = ExtResource("4_f2sv3")
region = Rect2(448, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_jg0u0"]
atlas = ExtResource("4_f2sv3")
region = Rect2(480, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_jxqey"]
atlas = ExtResource("4_f2sv3")
region = Rect2(512, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_i5g46"]
atlas = ExtResource("4_f2sv3")
region = Rect2(544, 32, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_2hix3"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_xb8ov")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0c170")
}],
"loop": true,
"name": &"fall",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_s6jso")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7c3rd")
}],
"loop": true,
"name": &"jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_3itdf")
}],
"loop": true,
"name": &"land",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_stbou")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jg0u0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jxqey")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i5g46")
}],
"loop": true,
"name": &"walk",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_seagn"]
radius = 8.0
height = 26.0

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_81pxf"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_umki4"]
size = Vector2(28, 94)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_e222k"]
size = Vector2(40, 40)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bnwuw"]
size = Vector2(26, 26)

[node name="plt_world1" type="Node2D"]
script = ExtResource("1_wx00e")

[node name="world" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="world"]
polygon = PackedVector2Array(0, -15, 29, 252, 56, 418, 261, 446, 319, 491, 172, 522, 43, 600, 117, 644, 617, 674, 1185, 678, 1349, 582, 1352, 491, 1147, 505, 932, 573, 563, 584, 166, 584, 248, 552, 457, 524, 416, 495, 462, 463, 540, 441, 627, 436, 672, 478, 695, 533, 793, 508, 887, 458, 901, 379, 994, 348, 1136, 341, 1207, 364, 1275, 339, 1343, 301, 1510, 155, 1710, 65, 1857, 4, 1987, -1, 1954, -39, 2026, -97, 1988, -106, 2024, -112, 2032, -138, 2038, -113, 2075.58, -107.607, 2039, -96, 2108, -56, 2084, -21, 2261, -81, 2341, -39, 2168, 105, 2066, 411, 1996, 191, 1868, 145, 1796, 145, 1758, 237, 1702, 149, 1460, 323, 1353, 491, 1357, 577, 1512, 609, 1570, 591, 1554, 573, 1569, 550, 1595, 550, 1608, 571, 1592.27, 590.398, 1743, 588, 1770, 499, 1794, 577, 2129, 525, 2412, 567, 2760, 505, 3021, 446, 3224, 369, 3402, 271, 3689, 369, 4152, 483, 5581, 496, 5650, 174, 5967, 638, 5251, 661, 2646, 634, 1808, 664, 1212, 720, -40, 686)

[node name="Polygon2D" type="Polygon2D" parent="world/CollisionPolygon2D"]
color = Color(0.180392, 0.560784, 0.745098, 1)

[node name="startplatform" type="StaticBody2D" parent="."]
position = Vector2(500, 192)

[node name="CollisionShape2D" type="CollisionShape2D" parent="startplatform"]
position = Vector2(62, -16)
shape = SubResource("SegmentShape2D_bunl0")

[node name="Sprite2D" type="Sprite2D" parent="startplatform/CollisionShape2D"]
position = Vector2(10.5, 19.5)
scale = Vector2(145, 7)
texture = SubResource("PlaceholderTexture2D_wttnq")

[node name="plt_player" type="CharacterBody2D" parent="."]
position = Vector2(570, 100)
script = ExtResource("2_3tf71")

[node name="Sprite2D" type="Sprite2D" parent="plt_player"]
visible = false
scale = Vector2(0.125, 0.2)
texture = ExtResource("2_t8400")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="plt_player"]
texture_filter = 1
position = Vector2(2.26498e-06, -6)
scale = Vector2(1.1875, 1.1875)
sprite_frames = SubResource("SpriteFrames_2hix3")
animation = &"fall"

[node name="CollisionShape2D" type="CollisionShape2D" parent="plt_player"]
shape = SubResource("CapsuleShape2D_seagn")

[node name="Camera2D" type="Camera2D" parent="plt_player"]
zoom = Vector2(2, 2)

[node name="interact" type="RigidBody2D" parent="."]
position = Vector2(1022, 276)
input_pickable = true
freeze = true

[node name="Sprite2D" type="Sprite2D" parent="interact"]
scale = Vector2(28, 94)
texture = SubResource("PlaceholderTexture2D_81pxf")

[node name="CollisionShape2D" type="CollisionShape2D" parent="interact"]
shape = SubResource("RectangleShape2D_umki4")

[node name="draggable" type="RigidBody2D" parent="."]
position = Vector2(95, 381)
freeze = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="draggable"]
shape = SubResource("RectangleShape2D_e222k")

[node name="ColorRect" type="ColorRect" parent="draggable"]
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
color = Color(0.815686, 0.85098, 0.85098, 1)

[node name="Button" type="Button" parent="draggable/ColorRect"]
modulate = Color(1, 1, 1, 0)
layout_mode = 0
offset_left = -1.0
offset_top = -1.0
offset_right = 41.0
offset_bottom = 41.0
focus_mode = 0

[node name="plt_enemy" type="RigidBody2D" parent="."]
position = Vector2(5028, 466)
max_contacts_reported = 1
contact_monitor = true
script = ExtResource("4_ylcuw")

[node name="Sprite2D" type="Sprite2D" parent="plt_enemy"]
modulate = Color(1, 0.419608, 0.439216, 1)
scale = Vector2(0.2, 0.2)
texture = ExtResource("2_t8400")

[node name="CollisionShape2D" type="CollisionShape2D" parent="plt_enemy"]
shape = SubResource("RectangleShape2D_bnwuw")

[node name="Timer" type="Timer" parent="plt_enemy"]

[connection signal="mouse_entered" from="interact" to="." method="_on_interact_mouse_entered"]
[connection signal="button_down" from="draggable/ColorRect/Button" to="." method="_on_button_button_down"]
[connection signal="button_up" from="draggable/ColorRect/Button" to="." method="_on_button_button_up"]
[connection signal="body_entered" from="plt_enemy" to="plt_enemy" method="_on_body_entered"]
[connection signal="timeout" from="plt_enemy/Timer" to="plt_enemy" method="_on_timer_timeout"]
